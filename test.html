<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/test.css">
  <title>Document</title>
</head>
<h1>Кто ты из IT?</h1>
<h4>Выбери те качества <u>(не больше 5)</u>, которые по твоему мнению необходимы работнику IT-сферы больше всего</h4>
<form id="test">
  <div class="content">
    <p>
    <div class="checkbox">
      <label class="characteristic custom-checkbox">
        <input type="checkbox" name="test" value="Интрапунитивность">
        <span>Интрапунитивность</span></label>
    </div>
    <div class="checkbox">
      <label class="characteristic custom-checkbox">
        <input type="checkbox" name="test" value="Внимательность">
        <span>Внимательность</span></label>
    </div>
    <label class="characteristic custom-checkbox">
      <input type="checkbox" name="test" value="Исполнительность">
      <span>Исполнительность</span></label>
    <div class="checkbox">
      <label class="characteristic custom-checkbox">
        <input type="checkbox" name="test" value="Самоконтроль">
        <span>Самоконтроль</span></label>
    </div>
    <div class="checkbox">
      <label class="characteristic custom-checkbox">
        <input type="checkbox" name="test" value="Концентрирование внимания">
        <span>Концентрирование внимания</span></label>
    </div>
    <div class="checkbox">
      <label class="characteristic custom-checkbox">
        <input type="checkbox" name="test" value="Умственная работоспособность">
        <span>Умственная работоспособность</span></label>
    </div>
    <div class="checkbox">
      <label class="characteristic custom-checkbox">
        <input type="checkbox" name="test" value="Транссонантность">
        <span>Транссонантность</span></label>
    </div>
    <div class="checkbox">
      <label class="characteristic custom-checkbox">
        <input type="checkbox" name="test" value="Оперативность">
        <span>Оперативность</span> </label>
    </div>
    <div class="checkbox">
      <label class="characteristic custom-checkbox">
        <input type="checkbox" name="test" value="Аналитичность">
        <span>Аналитичность</span> </label>
    </div>
    <div class="checkbox">
      <label class="characteristic custom-checkbox">
        <input type="checkbox" name="test" value="Переключаемость внимания">
        <span>Переключаемость внимания </span></label>
    </div>
    <div class="checkbox">
      <label class="characteristic custom-checkbox">
        <input type="checkbox" name="test" value="Выносливость">
        <span>Выносливость</span> </label>
    </div>
    <div class="checkbox">
      <label class="characteristic custom-checkbox">
        <input type="checkbox" name="test" value="Самостоятельность">
        <span>Самостоятельность</span> </label>
    </div>
    <div class="checkbox">
      <label class="characteristic custom-checkbox">
        <input type="checkbox" name="test" value="Многозадачность">
        <span>Многозадачность</span> </label>
    </div>
    <div class="checkbox">
      <label class="characteristic custom-checkbox">
        <input type="checkbox" name="test" value="Креативность">
        <span>Креативность</span> </label>
    </div>
    <div class="checkbox">
      <label class="characteristic custom-checkbox">
        <input type="checkbox" name="test" value="Самоорганизация">
        <span>Самоорганизация</span> </label>
    </div>
    <div class="checkbox">
      <label class="characteristic custom-checkbox">
        <input type="checkbox" name="test" value="Образное воображение">
        <span>Образное воображение</span> </label>
    </div>
    <div class="checkbox">
      <label class="characteristic custom-checkbox">
        <input type="checkbox" name="test" value="Распределённое внимание">
        <span>Распределённое внимание</span> </label>
    </div>
    <div class="checkbox">
      <label class="characteristic custom-checkbox">
        <input type="checkbox" name="test" value="Планирование">
        <span>Планирование</span> </label>
    </div>
    <div class="checkbox">
      <label class="characteristic custom-checkbox">
        <input type="checkbox" name="test" value="Наблюдательность">
        <span>Наблюдательность</span> </label>
    </div>
    <div class="checkbox">
      </p>
    </div>
</form>
<p>
<form action="results.html" target="_self">
  <button class="custom-button" id="calc">Подсчитать результаты</button>
</form>
<input type="reset" class="custom-button" value="Сброс">
</p>
<script type="text/javascript">
  let developer = ['Интрапунитивность', 'Переключаемость внимания', 'Самоорганизация', 'Аналитичность', 'Умственная работоспособность', 'Образное воображение', 'Планирование', 'Креативность', 'Многозадачность']
  let tester = ['Оперативность', 'Креативность', 'Внимательность', 'Выносливость', 'Транссонантность', 'Умственная работоспособность', 'Концентрирование внимания']
  let sysAdmin = ['Многозадачность', 'Самостоятельность', 'Исполнительность', 'Оперативность', 'Самоконтроль', 'Распределённое внимание', 'Наблюдательность']

  let devSum = 0;
  let testSum = 0;
  let sysSum = 0;

  calc.onclick = function () {
    devSum = 0;
    testSum = 0;
    sysSum = 0;

    var myform = document.getElementById("test")
    console.log(myform)
    chbx = myform['test'];
    console.log(chbx)
    for (let d of developer) {
      for (var i = 0; i < chbx.length; i++) {
        if (chbx[i].checked && (chbx[i].value == d))
          devSum++;
      }
    }
    for (let t of tester) {
      for (var i = 0; i < chbx.length; i++) {
        if (chbx[i].checked && (chbx[i].value == t))
          testSum++;
      }
    }
    for (let s of sysAdmin) {
      for (var i = 0; i < chbx.length; i++) {
        if (chbx[i].checked && (chbx[i].value == s))
          sysSum++;
      }
    }

    let devRes = Math.round((devSum / developer.length) * 100)
    let sysRes = Math.round((sysSum / sysAdmin.length) * 100)
    let testRes = Math.round((testSum / tester.length) * 100)

    const send = [devRes, testRes, sysRes]

    sessionStorage.setItem("percentage", JSON.stringify(send))
  };



</script>
</body>

</html>